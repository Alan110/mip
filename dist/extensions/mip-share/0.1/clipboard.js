define("extensions/mip-share/0.1/clipboard",["require","extensions/mip-share/0.1/share/detect"],function(e){function t(e){$.extend(this,e),this.bind()}function n(e){var t;if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName)e.focus(),e.setSelectionRange(0,e.value.length),t=e.value;else{e.hasAttribute("contenteditable")&&e.focus();var n=window.getSelection(),i=document.createRange();i.selectNodeContents(e),n.removeAllRanges(),n.addRange(i),t=n.toString()}return t}var i="click",s=e("extensions/mip-share/0.1/share/detect");return t.support=!0&&"android"==s.os.n&&"zbios"!==s.browser.n,t.prototype={bind:function(){$(this.el).on("click",this.handler.bind(this))},update:function(e){this.text=e},unbind:function(){$(this.el).off("click",this.handler),this.removeFake()},handler:function(){this.selectFake(this.text)},removeFake:function(){this.fakeHandler&&(document.body.removeEventListener(i,this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},copyText:function(){var e;try{e=document.execCommand("copy")}catch(t){e=!1}this.handleResult(e)},handleResult:function(e){e?this.success&&this.success():this.error&&this.error()},selectFake:function(e){var t="rtl"===document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=this.removeFake.bind(this),this.fakeHandler=document.body.addEventListener(i,this.fakeHandlerCallback),this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="fixed",this.fakeElem.style[t?"right":"left"]="-9999px",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=e,document.body.appendChild(this.fakeElem),this.selectedText=n(this.fakeElem),this.copyText()}},t});