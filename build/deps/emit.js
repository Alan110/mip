define("deps/emit",["require"],function(){function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}var n=e.prototype;return n.addEventListener=n.on=function(e,n){var r=this._getEventListenersAsObject(e),i="object"==typeof n;for(var s in r)r.hasOwnProperty(s)&&-1===t(r[s],n)&&r[s].push(i?n:{listener:n,once:!1});return this},n.one=function(e,t){return this.on(e,{listener:t,once:!0})},n.removeEventListener=n.off=function(e,n){var r=this._getEventListenersAsObject(e);for(var i in r)if(r.hasOwnProperty(i)){var s=t(r[i],n);-1!==s&&r[i].splice(s,1)}return this},n.trigger=function(e,t){var n,r=this._getEventListenersAsObject(e);for(var i in r)if(r.hasOwnProperty(i))for(var s=r[i].slice(0),o=s.length;o--;){var v=s[o];v.once===!0&&this.off(e,v.listener),n=v.listener.apply(this,t||[])}return this},n._getEventListenersAsObject=function(e){var t,n=this._getEventListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},n._getEventListeners=function(e){var t=this._getEvents();return t[e]||(t[e]=[])},n._getEvents=function(){return this._events||(this._events={})},e});