define("gesture",["require","observable"],function(t){function e(t,e){u.fire(t,e)}function n(t){u.add(t)}function r(t){u.remove(t)}function a(t){try{var n=t.touches[0];d.startX=Number(n.screenX),d.startY=Number(n.screenY),d.startT=t.timeStamp;var r={event:"touchstart",x:d.startX,y:d.startY,_t:t.timeStamp};e(t,r)}catch(a){}}function s(t){try{nChangX=t.changedTouches[0].screenX,nChangY=t.changedTouches[0].screenY;var n=nChangX-d.startX,r=nChangY-d.startY,a=(t.timeStamp-d.startT)/n;e(t,{event:"touchend",x:n,y:r,_t:t.timeStamp,speed:a})}catch(s){}}function c(t){try{var n=t.touches[0],r=Number(n.screenX),a=Number(n.screenY),s={event:"touchmove",x:r-d.startX,y:a-d.startY,_t:t.timeStamp};e(t,s)}catch(c){}}function i(){h||(window.addEventListener("touchstart",a,!1),window.addEventListener("touchmove",c,!1),window.addEventListener("touchend",s,!1),h=!0)}function o(){i()}var u=t("observable"),d={startX:0,startY:0,lastX:0,lastY:0,startT:0},h=!1;return{init:o,bind:n,unbind:r}});